<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<style>
  .forgot{
    width: 50%;
    background-color: #ffffff;
    display: block;
    justify-content: center;
    align-items: center;
    border: 1px solid rgb(225, 209, 209);
    margin: auto;
    margin-top: 5rem;
    
  }
  h2{
    text-align: center;
    color: blue;
  }
  body{
    background-color: rgb(196, 189, 189);
    background-image: url('https://www.citrixguru.com/wp-content/uploads/2018/12/PasswordResetShareFile.jpg');
  background-repeat:repeat;
    background-size: cover;
  }
  input{
    width: 100%;
    height: 50px;
    font-size: 15px;
  }
  h2{
    color: rgb(255, 255, 255);
  }
  .btn_change{
    width: 80%;
   
    transform: translate(15%);
  }
  form{
    background-color: #ffffff;
    width: 800px;
    height: 300px;
    margin: 0 auto;
    padding: 2rem;
  }
  @media(max-width:572px){
    form{
      width: 300px;
    }
  }
</style>
<body>
  
<div>
    <h2>Reset Your Password</h2>
</div>
         
<form th:action="@{/reset_password}" method="post" style="max-width: 350px; margin: 0 auto;">
    <input type="hidden" name="token" th:value="${token}" />
<div class="border border-secondary rounded p-3">
    <div>
      <p class="text-center" id="passwordMatcher">
        </p>
        <p>
            <input type="password" name="password" id="password" class="form-control"
                placeholder="Nhập mật khẩu mới" required autofocus />
        </p>
        <p>
            <input type="password" class="form-control" id="confirmPassword" placeholder="Nhập lại mật khẩu"
                required oninput="checkPasswordMatch();" />
        </p>         
        <p class="text-center">
            <input type="submit" value="Đặt lại mật khẩu" id="change" class="btn_change btn btn-primary" />
        </p>
         
    </div>
</div>
</form>
<script>
  // function checkPasswordMatch(fieldConfirmPassword) {
  //   if (fieldConfirmPassword.value != $("#password").val()) {
  //       fieldConfirmPassword.setCustomValidity("Passwords do not match!");
  //       document.getElementsByClassName("btn_change").style.display = "none";
  //   } else {
  //       fieldConfirmPassword.setCustomValidity("");
  //   }
  //   }
function checkPasswordMatch(){
     var newpass = document.getElementById('password').value;
    var comfirmpass = document.getElementById('confirmPassword').value;
    var passwordMatcher = document.getElementById('passwordMatcher');
    var change = document.getElementById('change');
    change.style.display="block";
    if(newpass === comfirmpass){
      passwordMatcher.textContent ="Mật khẩu trùng khớp";
      passwordMatcher.style.color ="green";
      change.style.display="block";
    }else{
      passwordMatcher.textContent= "Mật khẩu không khớp";
      passwordMatcher.style.color ="red";
      change.style.display="none";
    }
}
 
  
</script>
</body>

</html>
