<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Nhân Viên</title>

  <!-- Google Font: Source Sans Pro -->
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.9/angular.min.js"></script>
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="../assets/plugins/fontawesome-free/css/all.min.css">
  <!-- Ionicons -->
  <link rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
  <!-- Tempusdominus Bootstrap 4 -->
  <link rel="stylesheet" href="../assets/plugins/tempusdominus-bootstrap-4/css/tempusdominus-bootstrap-4.min.css">
  <!-- iCheck -->
  <link rel="stylesheet" href="../assets/plugins/icheck-bootstrap/icheck-bootstrap.min.css">
  <!-- JQVMap -->
  <link rel="stylesheet" href="../assets/plugins/jqvmap/jqvmap.min.css">
  <!-- Theme style -->
  <link rel="stylesheet" href="../assets/dist/css/adminlte.min.css">
  <!-- overlayScrollbars -->
  <link rel="stylesheet" href="../assets/plugins/overlayScrollbars/css/OverlayScrollbars.min.css">
  <!-- Daterange picker -->
  <link rel="stylesheet" href="../assets/plugins/daterangepicker/daterangepicker.css">
  <!-- summernote -->
  <link rel="stylesheet" href="../assets/plugins/summernote/summernote-bs4.min.css">
  
  <link rel="stylesheet" href="../assets/css/nhanvien.css">
</head>

<body class="hold-transition sidebar-mini layout-fixed" ng-app="appNhanvien" ng-controller="ctrl-nhanvien">
  <div class="wrapper">

  <!-- Preloader -->
    <div
      class="preloader flex-column justify-content-center align-items-center">
      <img class="animation__shake" src="../assets/dist/img/foodshop.png"
        alt="logoshop" height="100" width="100">
    </div>

    <!-- Navbar -->
    <nav class="main-header navbar navbar-expand navbar-white navbar-light">
      <!-- Left navbar links -->
      <ul class="navbar-nav">
        <li class="nav-item"><a class="nav-link" data-widget="pushmenu" href="#" role="button"><i
              class="fas fa-bars"></i></a></li>
        <li class="nav-item d-none d-sm-inline-block"><a  href="/admin/" class="nav-link">Trang chủ</a></li>
      <!--  <li class="nav-item d-none d-sm-inline-block"><a href="#" class="nav-link">Contact</a></li>
        <li class="nav-item"><a class="nav-link" data-widget="navbar-search" href="#" role="button"> <i
              class="fas fa-search"></i>
          </a>
          <div class="navbar-search-block">
            <form class="form-inline">
              <div class="input-group input-group-sm">
                <input class="form-control form-control-navbar" type="search" placeholder="Search" aria-label="Search">
                <div class="input-group-append">
                  <button class="btn btn-navbar" type="submit">
                    <i class="fas fa-search"></i>
                  </button>
                  <button class="btn btn-navbar" type="button" data-widget="navbar-search">
                    <i class="fas fa-times"></i>
                  </button>
                </div>
              </div>
            </form>
          </div>
        </li>-->
      </ul>

      <!-- Right navbar links -->
      <ul class="navbar-nav ml-auto">
        <!-- Navbar Search -->


        <!-- Messages Dropdown Menu -->

        <!-- Notifications Dropdown Menu -->
    <a style="
        padding: 0.5rem;
    color: white;
    width: 100px;
    background: #03482e;
    text-align: center;
    font-size: 14px;
    margin-right: 1rem;
    border-radius: 5px;" 
    class="dangxuat" th:href="@{/security/logoff}">Đăng Xuất</a>

      </ul>
    </nav>
    <!-- /.navbar -->

    <!-- Main Sidebar Container -->
    <aside class="main-sidebar sidebar-dark-primary elevation-4">
      <!-- Brand Logo -->
  <!-- Brand Logo -->
      <a href="/admin/" class="brand-link"> <img 
        src="../assets/dist/img/foodshop.png" alt="AdminLTE Logo"
        class="brand-image img-circle elevation-3" style="opacity: .8">
        <span class="brand-text font-weight-light">Trang Chủ</span>
      </a>
      <!-- Sidebar -->
      <div class="sidebar">
        <!-- Sidebar user panel (optional) -->
        <div class="user-panel mt-3 pb-3 mb-3 d-flex">
          <div class="image">
            <img th:src="@{'https://res.cloudinary.com/dpbixmrep/image/upload/'+${account.image}}" class="img-circle elevation-2" alt="User Image">
          </div>
          <div class="info">
            <a href="#" class="d-block"th:text="${account.name}"></a>
          </div>
        </div>

        <!-- SidebarSearch Form -->
        <div class="form-inline">
          <div class="input-group" data-widget="sidebar-search">
            <input class="form-control form-control-sidebar" type="search" placeholder="Search" aria-label="Search">
            <div class="input-group-append">
              <button class="btn btn-sidebar">
                <i class="fas fa-search fa-fw"></i>
              </button>
            </div>
          </div>
        </div>

        <!-- Sidebar Menu -->
        <nav class="mt-2">
          <ul class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
            <!-- Add icons to the links using the .nav-icon class
               with font-awesome or any other icon font library -->
            <li class="nav-header">QUẢN LÝ CHUNG</li>
            <li class="nav-item menu-open"><a href="/admin/" class="nav-link active"> <i
                  class="nav-icon fas fa-tachometer-alt"></i>
                <p>Trang Chủ</p>
              </a></li>
            <li class="nav-item menu-open"><a href="#" class="nav-link active"> <i
                  class="nav-icon fas fa-tachometer-alt"></i>
                <p>
                  Quản lý người dùng <i class="right fas fa-angle-left"></i>
                </p>
              </a>
              <ul class="nav nav-treeview">
                <li class="nav-item"><a href="nhanvien" class="nav-link active"> <i
                      class="far fa-circle nav-icon"></i>
                    <p>Nhân viên</p>
                  </a></li>
              </ul>
            </li>
            <li class="nav-item menu-open"><a href="#" class="nav-link active"> <i
                  class="nav-icon fas fa-tachometer-alt"></i>
                <p>
                  Quản lý đơn hàng <i class="right fas fa-angle-left"></i>
                </p>
              </a>
              <ul class="nav nav-treeview">
                <li class="nav-item"><a href="donhang" class="nav-link active"> <i class="far fa-circle nav-icon"></i>
                    <p>Đơn hàng</p>
                  </a></li>
              </ul>
            </li>
            <li class="nav-item menu-open"><a href="#" class="nav-link active"> <i
                  class="nav-icon fas fa-tachometer-alt"></i>
                <p>
                  Quản lý sản phẩm <i class="right fas fa-angle-left"></i>
                </p>
              </a>
              <ul class="nav nav-treeview">
                <li class="nav-item"><a href="sanpham" class="nav-link active"> <i class="far fa-circle nav-icon"></i>
                    <p>Sản phẩm</p>
                  </a></li>
              </ul>
            </li>
          </ul>
        </nav>
        <!-- /.sidebar-menu -->
      </div>
      <!-- /.sidebar -->
    </aside>

    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">
      <!-- Content Header (Page header) -->
      <div class="content-header">
        <div class="container-fluid">
          <div class="row mb-2">
            <div class="col-sm-6">
              <h1 class="m-0">Quản lý nhân viên</h1>
            </div>
            <!-- /.col -->
            <div class="col-sm-6">
              <ol class="breadcrumb float-sm-right">
                <li class="breadcrumb-item"><a href="/admin/">Trang chủ</a></li>
                <li class="breadcrumb-item active">Quản lý nhân viên</li>
              </ol>
            </div>
            <!-- /.col -->

          </div>
          <!-- /.row -->
        </div>
        <!-- /.container-fluid -->
      </div>
      <!-- /.content-header -->

      <!-- Main content -->
      <section class="content">
        <div class="container-fluid">
          <!-- Small boxes (Stat box) -->
          <div class="card">
            <div class="card-header">
              <h3 class="mt-2">Tải Khoản</h3>
            </div>
            <form th:action="@{/admin/saveImage}" enctype="multipart/form-data" name="userform" method="post">
              <div class="card-body">
                <div class="row">
                  <div class="col-sm-8">
                    <div class="row">
                      <div class="form-group col-sm-6">
                        <label>Tài khoản</label> <input type="text" name="username" class="form-control" ng-minlength="4" ng-maxlength="20" ng-model="username" ng-required=true placeholder="Nhập tài khoản của bạn"/>
                      </div>
                      <div class="form-group col-sm-6">
                        <label>Mật khẩu</label> <input class="form-control" name="password" type="password" ng-minlength="4" ng-model="password" ng-required=true placeholder="Nhập mật khẩu"/>
                      </div>
                    </div>
                    <div class="row">
                      <div class="form-group col-sm-6">
                        <label>Ảnh</label>
                         <input type="file" name="image"  class="form-control" onchange="angular.element(this).scope().setFile(this.files, 1)"  ng-required="true"/>
                      </div>
                      <div class="form-group col-sm-6">
                        <label>Vai trò</label> <br>
                        <select class="form-control" id="phuongxa" name="role" ng-required="true"
                          value="{{role.roleid}}" ng-model="selectedRole" ng-change=roleChoose(selectedRole)>
                          <option class="optiondiachi" value="">Chọn vai trò</option>
                          <option class="optiondiachi" ng-repeat="role in listRole" ng-selected="selectedRole === {{role.roleid}}" value="{{role.roleid}}">
                            {{role.name}}</option>
                        </select>
                      </div>
                    </div>
                    <div class="row">
                      <div class="form-grou  p col-sm-6">
                        <label>Tên đầy đủ </label> <input class="form-control" name="fullname" ng-model="fullname" ng-minlength="7" required placeholder="Nhập tên đầy đủ của bạn"/>
                      </div>
                      <div class="form-group col-sm-6">
                        <label>Email</label> <input class="form-control" type="email" name="email" ng-model="email"  ng-required=true  placeholder="Nhập email của bạn "/>
                      </div>
                    </div>
                    <div class="row">
                      <div class="form-group col-sm-6">
                        <label>Địa chỉ</label> <br>
                          
      <label class="lablediachi" for="thanhpho">Thành phố:</label><br>
      <select class="form-control" id="thanhpho" name="city"   ng-model="selectedCity" ng-required="true" ng-change=cityChoose(selectedCity)>
        <option class="optiondiachi" value="" >Chọn thành phố</option>-
         <option class="optiondiachi" ng-repeat="city in citys" value="{{city.ProvinceID}}" ng-selected="selectedCity ==={{city.ProvinceID}}"> {{city.ProvinceName}} </option>
      </select>
      
      <br>
      <label class="lablediachi" for="quanhuyen" >Quận/Huyện:</label><br>
         <select class="form-control" id="quanhuyen" name="district" value="{{district.DistrictName}}" ng-required="true" ng-model="selectedDistrict" ng-change=districtChoose(selectedDistrict)>
        <option class="optiondiachi" value="" >Chọn quận/huyện</option>
        <option class="optiondiachi" ng-repeat="district in districts" ng-selected="selectedDistrict === {{district.DistrictID}}"  value="{{district.DistrictID}}">{{district.DistrictName}}</option>
      </select>
    
    <br>
      <label class="lablediachi" for="phuongxa">Phường/Xã:</label><br>
      <select class="form-control" id="phuongxa" name="ward" value="{{ward.WardName}}" ng-required="true" ng-model="selectedWard" ng-change=wardChoose(selectedWard)>
        <option class="optiondiachi" value="">Chọn phường/xã</option>
        <option class="optiondiachi" ng-repeat="ward in wards" value="{{ward.WardCode}}" ng-selected="selectedWard === {{ward.WardCode}}">{{ward.WardName}}</option>
      </select>
      
                      </div>
                      <div class="form-group col-sm-6">
                        <label>SĐT</label> <input class="form-control" type="text" ng-pattern="/^\d+$/" name="phone" ng-model="phone" ng-minlength="10" ng-maxlength="10" ng-required=true  placeholder="Nhập số điện thoại"/>
                        <small ng-show="userform.username.$error.minlength"> username phải lớn hơn 4 ký tự</small><br> 
                        <small ng-show="userform.username.$error.maxlength"> username phải bé hơn 10 ký tự</small><br>  
                        <small ng-show="userform.password.$error.minlength">  password trên 4 ký tự</small><br>  
                        <small ng-show="userform.selectedRole.$error.required"> vui lòng chọn vai trò</small><br> 
                        <small ng-show="userform.fullname.$error.minlength"> vui lòng nhập đầy đủ tên</small><br> 
                        <small ng-show="userform.selectedCity.$error.required"> vui lòng chọn thành phố đang sinh sống</small><br> 
                        <small ng-show="userform.selectedDistrict.$error.required"> vui lòng chọn huyện </small><br> 
                        <small ng-show="userform.selectedWard.$error.required"> vui lòng chọn huyện </small><br> 
                        
                        <small ng-show="userform.phone.$error.minlength"> số điện thoại phải đúng 10 số</small><br> 
                        <small ng-show="userform.phone.$error.maxlength"> số điện thoại không quá 10 số</small><br> 
                        <small ng-show="userform.phone.$error.pattern"> vui lòng nhập đúng đinh dạng số</small><br> 
                      </div>
                      
                    </div>
                  </div>
                </div>
              </div>
              <div class="card-footer text-center">
                <button type="submit" ng-disabled="userform.$invalid" class="btn btn-primary"  accept="image/png, image/jpeg">
                  <b class="fa-solid fa-square-plus"></b> Create
                </button>
                <button type="button" class="btn btn-success" ng-disabled="checkedit" ng-click="update(idUser)" >
                  <b class="fa-solid fa-square-pen"></b> Update
                </button>
                <button type="button" ng-click="delete(idUser,index)" ng-disabled="checkedit" class="btn btn-danger"><b class="fa-solid fa-trash-can"></b>
                  Delete</button>
                <button type="button" class="btn btn-info" ng-click="reset()">
                  <b class="fa-solid fa-rotate"></b> Reset
                </button>
              </div>
            </form>
          </div>
          <div class="card">
            <div class="card-header">
              <h3 class="mt-2">Danh sách tài khoản</h3>
            </div>
            <div class="card-body">
              <table class="table table-bordered">
                <thead class="bg-success text-white">
                  <tr>
                    <th>Ảnh</th>
                    <th>NVId</th>
                    <th>Tên</th>
                    <th>SĐT</th>
                    <th>Tài Khoản</th>
                    
                    <th>Email</th>
                    <th>Hoạt động</th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="item in listAccount">
                    <td width="100"><img alt="" ng-src="https://res.cloudinary.com/dpbixmrep/image/upload/{{item.image}}" width="100" height="70" ></td>
                    <td >{{item.userid}}</td>
                    <td >{{item.name}}</td>
                    <td >{{item.phone}}</td>
                    <td >{{item.username}}</td>
                    
                    <td >{{item.email}}</td>
                    <td ><a class="btn btn-primary btn-sm]" href="" th:attr="ng-click=@{|edit(item.userid,$index)|}">Edit</a>
                    <a class="btn btn-danger btn-sm]" href="" th:attr="ng-click=@{|delete(item.userid,$index)|}">Delete</a></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
    </div>
  </div>
  <did id="toast">
    
</did>
  <!-- The Modal -->
<div id="id01" class="w3-modal">
  <div class="w3-modal-content">
    <div class="w3-container">
      <span onclick="document.getElementById('id01').style.display='none'"
      class="w3-button w3-display-topright">&times;</span>
      <p>Some text in the Modal..</p>
      <p>Some text in the Modal..</p>
    </div>
  </div>
</div>
  <!-- /.row (main row) -->
  </div>
  <!-- /.container-fluid -->
  </section>
  <!-- /.content -->
  </div>
  <!-- /.content-wrapper -->
  <footer class="main-footer">
    <strong> <a href="https://adminlte.io"></a>.
    </strong> 
    <div class="float-right d-none d-sm-inline-block">
      <b>thang</b> 
    </div>
  </footer>

  <!-- Control Sidebar -->
  <aside class="control-sidebar control-sidebar-dark">
    <!-- Control sidebar content goes here -->
  </aside>
  <!-- /.control-sidebar -->
  </div>
  <!-- ./wrapper -->
  
  

  
  <!--khai bao nhan vien-->
  <script src="../assets/dist/js/nhanvien.js"></script>
  <!-- jQuery -->
  <script src="../assets/plugins/jquery/jquery.min.js"></script>
  <!-- jQuery UI 1.11.4 -->
  <script src="../assets/plugins/jquery-ui/jquery-ui.min.js"></script>
  <!-- Resolve conflict in jQuery UI tooltip with Bootstrap tooltip -->
  <script>
    $.widget.bridge('uibutton', $.ui.button)
  </script>
  <!-- Bootstrap 4 -->
  <script src="../assets/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
  <!-- ChartJS -->
  <script src="../assets/plugins/chart.js/Chart.min.js"></script>
  <!-- Sparkline -->
  <script src="../assets/plugins/sparklines/sparkline.js"></script>
  <!-- JQVMap -->
  <script src="../assets/plugins/jqvmap/jquery.vmap.min.js"></script>
  <script src="assets/plugins/jqvmap/maps/jquery.vmap.usa.js"></script>
  <!-- jQuery Knob Chart -->
  <script src="../assets/plugins/jquery-knob/jquery.knob.min.js"></script>
  <!-- daterangepicker -->
  <script src="../assets/plugins/moment/moment.min.js"></script>
  <script src="../assets/plugins/daterangepicker/daterangepicker.js"></script>
  <!-- Tempusdominus Bootstrap 4 -->
  <script src="../assets/plugins/tempusdominus-bootstrap-4/js/tempusdominus-bootstrap-4.min.js"></script>
  <!-- Summernote -->
  <script src="../assets/plugins/summernote/summernote-bs4.min.js"></script>
  <!-- overlayScrollbars -->
  <script src="../assets/plugins/overlayScrollbars/js/jquery.overlayScrollbars.min.js"></script>
  <!-- AdminLTE App -->
  <script src="../assets/dist/js/adminlte.js"></script>

  <!-- AdminLTE for demo purposes -->
  <script src="../assets/dist/js/demo.js"></script>
  <!-- AdminLTE dashboard demo (This is only for demo purposes) -->
  <script src="../assets/dist/js/pages/dashboard.js"></script>
  <script src="../assets/angular/nhanvine.js"></script>
</body>

</html>